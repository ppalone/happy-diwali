{"version":3,"sources":["app.js"],"names":["canvas","document","querySelector","width","window","innerWidth","height","innerHeight","WIDTH","HEIGHT","ctx","getContext","fireworks","particles","GRAVITY","colors","Firework","fx","fy","color","speed","x","y","blown","draw","PARTICLE_COUNT","ANGLE","Math","PI","i","push","Particle","cos","random","sin","fillStyle","fill","fillRect","velocity","alpha","save","globalAlpha","max","beginPath","arc","strokeStyle","stroke","restore","animate","forEach","firework","idx","splice","update","particle","requestAnimationFrame","setInterval","pos","floor","length","console","log"],"mappings":"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","file":"app.05c4cd66.js","sourceRoot":"../src","sourcesContent":["const canvas = document.querySelector('#canvas');\n\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\n\nconst WIDTH = window.innerWidth;\nconst HEIGHT = window.innerHeight;\n\nconst ctx = canvas.getContext('2d');\n\nconst fireworks = [];\nconst particles = [];\n\nconst GRAVITY = 0.0005;\n// const FRICTION = 0.99;\n\nconst colors = ['cyan', 'yellow', 'orange', 'white', 'lime'];\n\nclass Firework {\n  constructor(fx, fy, color, speed) {\n    this.x = fx;\n    this.y = HEIGHT;\n    this.fx = fx;\n    this.fy = fy;\n    this.speed = speed;\n    this.blown = false;\n    this.color = color;\n  }\n\n  update() {\n    this.draw();\n    if (this.y < this.fy) {\n      const PARTICLE_COUNT = 200;\n      const ANGLE = (Math.PI * 2) / PARTICLE_COUNT;\n\n      for (let i = 0; i < PARTICLE_COUNT; i++) {\n        particles.push(\n          new Particle(this.x, this.y, this.color, {\n            x: Math.cos(ANGLE * i) * Math.random(),\n            y: Math.sin(ANGLE * i) * Math.random(),\n          })\n        );\n      }\n      this.blown = true;\n    } else {\n      this.y -= this.speed;\n    }\n  }\n\n  draw() {\n    ctx.fillStyle = this.color;\n    ctx.fill();\n    ctx.fillRect(this.x - 1, this.y, 2, 4);\n  }\n}\n\nclass Particle {\n  constructor(x, y, color, velocity) {\n    this.x = x;\n    this.y = y;\n    this.color = color;\n    this.velocity = velocity;\n    this.alpha = 1;\n  }\n\n  draw() {\n    ctx.save();\n    ctx.globalAlpha = Math.max(this.alpha, 0);\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, 2, 0, Math.PI * 2, false);\n    ctx.fillStyle = this.color;\n    ctx.strokeStyle = 'transparent';\n    ctx.fill();\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  update() {\n    this.velocity.y += GRAVITY;\n    this.x += this.velocity.x;\n    this.y += this.velocity.y;\n    this.alpha -= 0.005;\n    this.draw();\n  }\n}\n\nfunction animate() {\n  ctx.fillStyle = 'rgba(0, 0, 0, 0.25)';\n  ctx.fillRect(0, 0, WIDTH, HEIGHT);\n\n  fireworks.forEach((firework, idx) => {\n    if (firework.blown) {\n      fireworks.splice(idx, 1);\n    } else {\n      firework.update();\n    }\n  });\n\n  particles.forEach((particle, idx) => {\n    if (particle.alpha <= 0) {\n      particles.splice(idx, 1);\n    } else {\n      particle.update();\n    }\n  });\n\n  requestAnimationFrame(animate);\n}\n\nanimate();\n\nsetInterval(function () {\n  let pos = {\n    x: 30 + Math.random() * (WIDTH - 30 * 2),\n    y: 30 + Math.random() * (HEIGHT / 2),\n  };\n  let color = colors[Math.floor(Math.random() * colors.length)];\n  let speed = 4 + Math.random() * 4;\n  fireworks.push(new Firework(pos.x, pos.y, color, speed));\n  console.log(fireworks);\n}, 1000);\n"]}